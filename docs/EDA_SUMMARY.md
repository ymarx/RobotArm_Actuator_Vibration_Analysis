# EDA ìš”ì•½ ë³´ê³ ì„œ

**ë‚ ì§œ**: 2025-11-17
**Phase**: 1ë‹¨ê³„ ì™„ë£Œ - ë°ì´í„° ì „ì²˜ë¦¬ ë° í’ˆì§ˆ ê²€ì¦

---

## âœ… ì™„ë£Œëœ ì‘ì—…

### 1. ë°ì´í„° í’ˆì§ˆ ê°œì„ 

| ì§€í‘œ | Before (v0) | After (v1) | ê°œì„  |
|------|-------------|-----------|------|
| í’ˆì§ˆ í†µê³¼ íŒŒì¼ | 31/60 (51.7%) | **57/60 (95.0%)** | **+26 files** |
| 100W í†µê³¼ | 30/30 | 30/30 | - |
| 200W í†µê³¼ | 1/30 | **27/30** | **+26 files** |

**ê°œì„  ë‚´ìš©**:
- 200W ì œí’ˆì˜ ë” ê¸´ ì¸¡ì • ì‹œê°„(62-68ì´ˆ) í—ˆìš©
- ì œí’ˆë³„ í’ˆì§ˆ ê¸°ì¤€ ì ìš©: 100W [27k-29k], 200W [32k-36k] samples

---

### 2. ë°ì´í„° ëˆ„ìˆ˜ ê²€ì¦ - 5ê°€ì§€ í•­ëª© ëª¨ë‘ í†µê³¼

| ê²€ì¦ í•­ëª© | ê²°ê³¼ |
|-----------|------|
| íŒŒì¼ ë‹¨ìœ„ ë°ì´í„° ëˆ„ìˆ˜ | âœ… í†µê³¼ |
| ì‹œê°„ ê¸°ë°˜ ë¶„í•  ê²½ê³„ ì¤€ìˆ˜ | âœ… í†µê³¼ |
| CW/CCW ë°©í–¥ ì¼ê´€ì„± | âœ… í†µê³¼ |
| Balancing í›„ Val/Test ë…ë¦½ì„± | âœ… í†µê³¼ |
| Split ê°„ ìœˆë„ìš° ì¤‘ì²© | âœ… í†µê³¼ |

---

### 3. ìµœì¢… ë°ì´í„°ì…‹

**Window ë¶„í¬**:
| Split | Normal | Abnormal | Total | Ratio (N:A) |
|-------|--------|----------|-------|-------------|
| Train | 160 | 321 | 481 | 1:2.0 âœ… |
| Val | 4 | 88 | 92 | 1:22 |
| Test | 14 | 97 | 111 | 1:6.9 |
| **Total** | **178** | **506** | **684** | **1:2.8** |

**Features**:
- ìˆ˜ì¹˜í˜• Features: 49ê°œ
  - acc_X/Y/Z: ê° 7ê°œ í†µê³„ëŸ‰ (mean, std, rms, peak, crest, kurtosis, skewness)
  - Gyro_X/Y/Z: ê° 7ê°œ í†µê³„ëŸ‰
  - acc_Sum: 7ê°œ í†µê³„ëŸ‰
- ë©”íƒ€ Features: 2ê°œ (product_100w, direction_cw)
- ì´ 51ê°œ Features

---

## âš ï¸ ë°œê²¬ëœ ì´ìŠˆ

### 1. í’ˆì§ˆ ì‹¤íŒ¨ íŒŒì¼ (3ê°œ)

| íŒŒì¼ ID | ìƒ˜í”Œ ìˆ˜ | ì´ìœ  |
|---------|---------|------|
| 200W_S02_CW_R4 (1) | 59,462 | ë¹„ì •ìƒì ìœ¼ë¡œ ê¸º (~116ì´ˆ) |
| 200W_S02_CW_R4 (2) | 43,689 | ê¸°ì¤€ ì´ˆê³¼ (~85ì´ˆ) |
| 200W_S02_CW_R4 (3) | 43,689 | ê¸°ì¤€ ì´ˆê³¼ (~85ì´ˆ) |

**ê¶Œì¥ ì‚¬í•­**: Sample02 íŒŒì¼ ì œì™¸ ë˜ëŠ” ë°ì´í„° ìˆ˜ì§‘ ê³¼ì • ì¬ê²€í† 

---

### 2. Missing Values (5ê°œ ìœˆë„ìš°)

**ì˜í–¥ ë°›ëŠ” ìœˆë„ìš°**:
- 200W_S02_CW_R4_W0439
- 200W_S02_CW_R4_W0440
- 200W_S02_CW_R4_W0441

**ì›ì¸**: í’ˆì§ˆ ì‹¤íŒ¨í•œ 200W Sample02 íŒŒì¼ì—ì„œ ë°œìƒ

**ëŒ€ì‘ ë°©ì•ˆ**:
1. **ê¶Œì¥**: í•´ë‹¹ ìœˆë„ìš° ì œê±° (5ê°œë§Œ ì˜í–¥)
2. ë˜ëŠ”: Imputation ì ìš© (ì£¼ë³€ ìœˆë„ìš° í‰ê· ê°’)

---

### 3. Val/Testì˜ ì •ìƒ ìƒ˜í”Œ ë¶€ì¡±

| Split | Normal | Abnormal | Ratio |
|-------|--------|----------|-------|
| Val | **4** | 88 | 1:22 âŒ |
| Test | **14** | 97 | 1:6.9 âš ï¸ |

**ë¬¸ì œì **:
- Val setì˜ ì •ìƒ ìƒ˜í”Œì´ ë„ˆë¬´ ì ìŒ (4ê°œ)
- ëª¨ë¸ ê²€ì¦ ì‹œ ì •ìƒ í´ë˜ìŠ¤ ì„±ëŠ¥ í‰ê°€ ì–´ë ¤ì›€

**ì™„í™” ë°©ì•ˆ**:
- Time-based splitìœ¼ë¡œ ê·¹ì†ŒëŸ‰ ì •ìƒ ìƒ˜í”Œ ìµœëŒ€ í™œìš©
- ì¥ê¸°ì ìœ¼ë¡œ ì¶”ê°€ ì •ìƒ ë°ì´í„° í™•ë³´ í•„ìš”

---

## ğŸ“Š ë°ì´í„° ë¶„í•  ì „ëµ

### Time-based Split (ì •ìƒ íŒŒì¼ 4ê°œ)

```
ì–‘í’ˆ íŒŒì¼ ì˜ˆì‹œ: 100W_S00_CW (50ì´ˆ)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 0ì´ˆ        30ì´ˆ        40ì´ˆ            50ì´ˆ â”‚
â”‚ â”œâ”€ Train â”€â”€â”¤â”€ Val â”€â”¤â”€â”€â”€â”€â”€ Test â”€â”€â”€â”€â”€â”¤    â”‚
â”‚ 0-60%    60-80%   80-100%                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ìƒì„± ìœˆë„ìš° (8ì´ˆ, 50% overlap):
- Train: 11ê°œ
- Val: 1ê°œ
- Test: 1ê°œ
```

**ì¥ì **:
âœ… ê° splitì— ì •ìƒ ìƒ˜í”Œ í™•ë³´
âœ… ì‹œê°„ì ìœ¼ë¡œ ì™„ì „ ë¶„ë¦¬ (ë°ì´í„° ëˆ„ìˆ˜ ì—†ìŒ)
âœ… ì•ˆì • êµ¬ê°„ë§Œ ì‚¬ìš© (ì•ë’¤ 10% ì œì™¸)

**í•œê³„**:
âš ï¸ Val/Testì˜ ì •ìƒ ìƒ˜í”Œ ë§¤ìš° ì ìŒ

---

### File-based Split (ë¶ˆëŸ‰ íŒŒì¼ 56ê°œ)

```
100W: 28ê°œ â†’ train(20), val(4), test(4)
200W: 28ê°œ â†’ train(18), val(4), test(6)

ë¹„ìœ¨: 70% / 15% / 15%
```

**ì¥ì **:
âœ… íŒŒì¼ ë‹¨ìœ„ ë…ë¦½ì„± ì™„ë²½ ë³´ì¥
âœ… ì¶©ë¶„í•œ ë¶ˆëŸ‰ ìƒ˜í”Œ í™•ë³´

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

### 1. ì¦‰ì‹œ ìˆ˜í–‰

- [ ] Missing value ì²˜ë¦¬ (5ê°œ ìœˆë„ìš° ì œê±° ë˜ëŠ” imputation)
- [ ] Feature ë¶„í¬ ë¶„ì„
  - ì •ìƒ vs ë¶ˆëŸ‰ ë¶„í¬ ë¹„êµ
  - Feature importance ì¶”ì •
  - Correlation ë¶„ì„

### 2. Phase 2 ì¤€ë¹„

- [ ] XGBoost ëª¨ë¸ í•™ìŠµ
  - Train setìœ¼ë¡œ í•™ìŠµ
  - Val setìœ¼ë¡œ í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹
  - Test setìœ¼ë¡œ ìµœì¢… í‰ê°€

- [ ] Frequency domain features ì¶”ê°€
  - FFT ê¸°ë°˜ ì£¼íŒŒìˆ˜ íŠ¹ì„±
  - Spectral features

- [ ] Autoencoder ê¸°ë°˜ Anomaly Detection
  - ì •ìƒ ìƒ˜í”Œë§Œìœ¼ë¡œ í•™ìŠµ
  - Reconstruction error ê¸°ë°˜ ì´ìƒ íƒì§€

---

## ğŸ“ ìƒì„±ëœ íŒŒì¼

### ë°±ì—… (v0)
```
data/backup_v0/
â”œâ”€â”€ interim/  # í’ˆì§ˆ ê¸°ì¤€ ì¡°ì • ì „
â””â”€â”€ processed/
```

### í˜„ì¬ (v1)
```
data/
â”œâ”€â”€ interim/
â”‚   â”œâ”€â”€ file_master_v1.parquet
â”‚   â”œâ”€â”€ quality_report.csv  # 57/60 usable
â”‚   â”œâ”€â”€ windows_meta_v1.parquet
â”‚   â””â”€â”€ splits/split_v1.json
â””â”€â”€ processed/
    â”œâ”€â”€ windows_balanced_v1.parquet  # â† ì´í›„ ë¶„ì„ì— ì‚¬ìš©
    â”œâ”€â”€ features_combined_v1.parquet  # â† ì´í›„ ë¶„ì„ì— ì‚¬ìš©
    â”œâ”€â”€ features_100w_v1.parquet
    â””â”€â”€ features_200w_v1.parquet
```

### ë¬¸ì„œ
```
claudedocs/
â”œâ”€â”€ data_validation_report.md  # ë°ì´í„° ëˆ„ìˆ˜ ê²€ì¦
â”œâ”€â”€ FINAL_COMPARISON_REPORT.md  # v0 vs v1 ë¹„êµ
â””â”€â”€ EDA_SUMMARY.md  # ë³¸ ë¬¸ì„œ
```

---

## âœ… í’ˆì§ˆ ë³´ì¦

### ë°ì´í„° ë¶„í•  ì›ì¹™ ì¤€ìˆ˜

| ì›ì¹™ | ìƒíƒœ | ê²€ì¦ ë°©ë²• |
|------|------|----------|
| íŒŒì¼ ë‹¨ìœ„ ë¶„í•  ìš°ì„  | âœ… 100% | verify_data_leakage.py |
| ì–‘í’ˆ ë¶€ì¡± ì‹œ ì‹œê°„ ê¸°ë°˜ | âœ… 100% | 4ê°œ íŒŒì¼ë§Œ time_split |
| ìœˆë„ìš° ê²½ê³„ ì¤€ìˆ˜ | âœ… 100% | Â±5% tolerance ê²€ì¦ |
| Balancingì€ trainë§Œ | âœ… 100% | Val/Test ë³€ê²½ ì—†ìŒ í™•ì¸ |
| ë°ì´í„° ëˆ„ìˆ˜ ì œë¡œ | âœ… 100% | 5ê°€ì§€ ê²€ì¦ ëª¨ë‘ í†µê³¼ |

---

## ğŸ“ˆ ì˜ˆìƒ ì„±ëŠ¥

### Train Set (balanced)
- Normal: 160, Abnormal: 321
- Ratio: 1:2 (ê· í˜• ì¡í˜) âœ…
- **ì˜ˆìƒ**: í•™ìŠµ ì•ˆì •ì , í´ë˜ìŠ¤ ë¶ˆê· í˜• ìµœì†Œí™”

### Val Set
- Normal: 4, Abnormal: 88
- Ratio: 1:22 (ì‹¬ê°í•œ ë¶ˆê· í˜•) âŒ
- **ì˜ˆìƒ**: ì •ìƒ í´ë˜ìŠ¤ ê²€ì¦ ì–´ë ¤ì›€
- **ëŒ€ì‘**: Stratified metrics ì‚¬ìš© (F1-score, AUC-ROC)

### Test Set
- Normal: 14, Abnormal: 97
- Ratio: 1:6.9 (ë¶ˆê· í˜•) âš ï¸
- **ì˜ˆìƒ**: ìµœì¢… í‰ê°€ ê°€ëŠ¥í•˜ë‚˜ ì •ìƒ ìƒ˜í”Œ ì œí•œì 
- **ëŒ€ì‘**: Confusion matrix ì„¸ë¶€ ë¶„ì„

---

**ë³´ê³ ì„œ ì‘ì„±**: 2025-11-17
**Phase 1 ìƒíƒœ**: âœ… ì™„ë£Œ
**Next Phase**: Feature ë¶„ì„ â†’ ëª¨ë¸ë§
